/**
 * Implement Gatsby's SSR (Server Side Rendering) APIs in this file.
 *
 * See: https://www.gatsbyjs.org/docs/ssr-apis/
 */

// You can delete this file if you're not using it
const React = require("react")

/*const activeEnv = 
  process.env.GATSBY_ACTIVE_ENV || process.env.NODE_ENV || "development";

console.log(`Using environment config: '${activeEnv}'`);

const dotenv = require("dotenv");
dotenv.config({
  path: `.env.${activeEnv}`,
});

const HeadComponents = [
  <script type="text/javascript" src="https://cdn1.stamped.io/files/widget.min.js"></script>,
  <script type="text/javascript">
    {`
      <![CDATA[
        StampedFn.init({ apiKey: process.env.STAMPED_PUB_KEY, storeUrl: process.env.STAMPED_URL }) 
      ]]>
    `}
  </script>
]

exports.onRenderBody = ({ setHeadComponents }, pluginOptions) => {
  setHeadComponents([
    <script
      type="text/javascript"
      src="https://cdn1.stamped.io/files/widget.min.js"
    ></script>,
    <script type="text/javascript">
      {`
      <![CDATA[
        StampedFn.init({ apiKey: process.env.STAMPED_PUB_KEY, storeUrl: process.env.STAMPED_URL }) 
      ]]>
    `}
    </script>,
  ]);
}*/
