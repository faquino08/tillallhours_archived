import { Link } from "gatsby"
import Img from "gatsby-image" 
import PropTypes from "prop-types"
import React, { useRef, useEffect, useState } from "react"
import "bootstrap/dist/css/bootstrap.min.css"
import "./header.css"
import { useSpring, animated, config } from "react-spring"
import { Navbar, Nav } from "react-bootstrap"
import Button from "react-bootstrap/Button"
import "../../images/js/all.js"
import { handleScroll } from "../../services/scroll.js"
import logo from "../../images/logo.svg"

function Header(props) {
  const ref = useRef()
  const [logoToggle, setToggle] = useState(false)
  const [navBgToggle, setNavToggle] = useState(false)
  const AnimatedLink = animated(Nav.Link)
  
  const brandAnimation = useSpring({
    from: {
      transform: "translate3d(12.5%, 5%, 0)",
      color: "white",
      fill: "white",
      fontSize: "9.5rem",
    },
    to: {
      transform: logoToggle
        ? "translate3d(0, 0, 0)"
        : "translate3d(12.5%, 5%, 0)",
      color: logoToggle ? "black" : "white",
      fill: logoToggle ? "black" : "white",
      fontSize: logoToggle ? "1.75rem" : "9.5rem",
    },
    config: config.gentle,
  })

  const logoAnimation = useSpring({
    from: {
      width: "527.15px",
      height: "62.55px",
    },
    to: {
      width: logoToggle ? "158.017px" : "527.15px",
      height: logoToggle ? "18.7833px" : "62.55px",
    },
    config: config.wobbly,
  })

  const bgAnimation = useSpring({
    from: {
      height: "0%",
    },
    to: {
      height: navBgToggle ? "100%" : "0%",
    },
    config: config.wobbly,
  })

  const fontAnimation = useSpring({
    from: {
      color: "white",
      whiteSpace: "nowrap",
    },
    to: {
      color: navBgToggle ? "black" : "white",
    },
    config: config.gentle,
  })

  useEffect(() => {
    if (props.home == true) {
      if (window.innerWidth < 768) {
        setToggle(true)
        setNavToggle(true)
      }
      window.addEventListener(
        "scroll",
        function() {
          handleScroll(ref, "nav", 50, setToggle)
          handleScroll(ref, "nav", 50, setNavToggle)
        },
        { passive: true }
      )
      window.addEventListener(
        "resize",
        function() {
          if (window.innerWidth < 768) {
            setNavToggle(true)
          }
          if (window.innerWidth >= 768) {
            setNavToggle(false)
          }
        },
        { passive: true }
      )

      return () => {
        window.removeEventListener("scroll", function() {
          handleScroll(ref, "nav", 50, setToggle)
          handleScroll(ref, "nav", 50, setNavToggle)
        })
        window.removeEventListener("resize", function() {
          if (window.innerWidth < 768) {
            setNavToggle(true)
          }
          if (window.innerWidth >= 768) {
            setNavToggle(false)
          }
        })
      }
    } else {
      setNavToggle(true)
    }
  })

  if(props.home) {
    return (
      <Navbar
        className="navcolor"
        expand="md"
        collapseOnSelect="true"
        ref={ref}
      >
        <animated.div className="navBg" style={bgAnimation} />
        <div
          style={{
            maxWidth: "1200px",
            margin: `0 auto`,
            width: "100%",
            height: "auto",
            display: "flex",
            zIndex: "9",
          }}
          className="header"
        >
          <Navbar.Brand href="/">
            <animated.div
              className="d-inline-block align-top"
              style={brandAnimation}
            >
              <animated.svg
                xmlnsDc="http://purl.org/dc/elements/1.1/"
                xmlnsCc="http://creativecommons.org/ns#"
                xmlnsRdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
                xmlnsSvg="http://www.w3.org/2000/svg"
                xmlns="http://www.w3.org/2000/svg"
                width="243.9323"
                height="29.270834"
                viewBox="0 0 64.540419 7.7445751"
                version="1.1"
                id="svg8"
                style={logoAnimation}
              >
                <defs id="defs2">
                  <rect
                    id="rect18"
                    height="85.422615"
                    width="30.238094"
                    y="77.10714"
                    x="134.55952"
                  />
                  <rect
                    id="rect12"
                    height="50.648808"
                    width="179.16072"
                    y="75.595238"
                    x="5.2916665"
                  />
                </defs>
                <g id="layer1" transform="translate(-0.77715312,-1.4287231)">
                  <animated.g
                    style={{
                      fontStyle: "normal",
                      fontVariant: "normal",
                      fontWeight: "normal",
                      fontStretch: "normal",
                      fontSize: "14.1111px",
                      lineHeight: 1.25,
                      fontFamily: "Gruppo",
                      whiteSpace: "pre",
                      shapeInside: "url(#rect12)",
                      fillOpacity: 1,
                      stroke: "none",
                      brandAnimation,
                    }}
                    id="text10"
                    transform="translate(-4.9892857,-79.941963)"
                    aria-label="tillallhours"
                  >
                    <path
                      id="path45"
                      d="m 69.29395,87.606299 q 0.110243,-0.08957 0.110243,-0.227376 0,-0.137803 -0.06201,-0.206705 -0.02067,-0.02756 -0.06201,-0.04823 -0.192925,-0.130913 -0.537435,-0.192925 -0.39963,-0.07579 -0.923285,-0.09646 -0.523654,-0.02067 -0.902614,-0.02756 -0.37207,-0.01378 -0.558105,-0.02067 -0.37896,-0.01378 -0.74414,-0.04134 -0.578776,-0.04134 -1.067979,-0.179145 -0.482313,-0.137803 -0.799261,-0.413411 -0.35829,-0.310058 -0.35829,-0.826822 0,-0.516764 0.344509,-0.854383 0.310059,-0.316949 0.792372,-0.489203 0.475422,-0.206706 1.040418,-0.275608 0.571885,-0.07579 1.088649,-0.07579 1.543402,0 2.60449,0.36518 0.385851,0.130914 0.73725,0.323839 0.179145,0.08957 0.254937,0.248047 0.04823,0.103352 0.06201,0.234266 v 0.02067 q 0,0.213596 -0.130914,0.378961 -0.0689,0.08268 -0.172255,0.144694 -0.103352,0.05512 -0.227376,0.05512 -0.137803,0 -0.234266,-0.06201 -0.544325,-0.268717 -1.240233,-0.434081 -0.689019,-0.165365 -1.570963,-0.165365 -0.447862,0 -0.861273,0.04823 -0.813042,0.08957 -1.1231,0.372071 -0.110243,0.110242 -0.110243,0.275607 0,0.0689 0.02067,0.124023 0.02756,0.04823 0.08957,0.08957 0.199815,0.117133 0.551215,0.179145 0.39274,0.0689 0.902614,0.08268 l 1.10243,0.03445 q 0.571885,0.02067 1.1231,0.06201 0.585666,0.04823 1.047308,0.186035 0.509874,0.151584 0.826822,0.447862 0.3514,0.316949 0.3514,0.833713 -0.0069,0.475423 -0.3514,0.806152 -0.316948,0.296278 -0.806151,0.468532 -0.496094,0.199816 -1.10243,0.282498 -0.592556,0.08268 -1.226453,0.08268 -0.37896,0 -0.819932,-0.02067 -1.019748,-0.03445 -1.784558,-0.296278 -0.454752,-0.158475 -0.792372,-0.427192 -0.165364,-0.124023 -0.213595,-0.303168 -0.02067,-0.07579 -0.02067,-0.151584 0,-0.248047 0.172255,-0.420302 0.144694,-0.151584 0.358289,-0.151584 0.172255,0 0.296278,0.103353 0.682129,0.461643 1.915472,0.537435 0.399631,0.02067 0.73036,0.02067 0.585665,0 1.033528,-0.04134 0.454752,-0.04134 0.76481,-0.130913 0.316949,-0.09646 0.482313,-0.227377 z m -9.983881,-3.396861 q 0.248047,-0.192925 0.537434,-0.310058 0.37207,-0.165365 0.757921,-0.213596 0.38585,-0.05512 0.675238,-0.05512 0.661458,0 1.11621,0.124024 0.227376,0.05512 0.268717,0.07579 0.04134,0.02067 0.07579,0.04134 0.03445,0.02067 0.0689,0.04823 0.124024,0.103353 0.172255,0.275608 0.02067,0.07579 0.02067,0.158474 0,0.206705 -0.130913,0.37896 -0.165365,0.213596 -0.454752,0.213596 h -0.06201 l -0.117133,-0.02756 q -0.248047,-0.0689 -0.468533,-0.103353 -0.220486,-0.04134 -0.537434,-0.04134 -0.316949,0 -0.647678,0.06201 -0.640787,0.117133 -0.999077,0.461642 -0.151584,0.158474 -0.241156,0.35829 v 2.666502 q 0,0.199815 -0.0689,0.37896 -0.06201,0.179145 -0.248047,0.268717 -0.130913,0.07579 -0.323838,0.07579 -0.186035,0 -0.330729,-0.103353 -0.248047,-0.151584 -0.275608,-0.461642 -0.0069,-0.08268 -0.0069,-0.179145 V 84.45059 q 0,-0.206705 0.08957,-0.37207 0.151584,-0.310058 0.571885,-0.310058 0.144694,0 0.261827,0.05512 0.227376,0.103353 0.296278,0.385851 z m -3.968745,3.190156 v -2.866317 q 0,-0.08957 0.0069,-0.186035 0.01378,-0.103353 0.04134,-0.172255 0.02756,-0.0689 0.05512,-0.110243 0.04823,-0.09646 0.130914,-0.165364 0.151584,-0.130914 0.37207,-0.130914 0.310058,0 0.489203,0.227376 0.130913,0.151584 0.151584,0.36518 0.0069,0.08957 0.0069,0.179145 v 3.762041 q 0,0.440972 -0.261827,0.627007 -0.144694,0.117133 -0.3514,0.117133 -0.268717,0 -0.440971,-0.151584 -0.144694,-0.137804 -0.186035,-0.406521 -0.523655,0.344509 -1.281575,0.516764 -0.475423,0.110243 -1.095539,0.110243 -0.785482,0 -1.364257,-0.158474 -0.585666,-0.137804 -0.985297,-0.454752 -0.39274,-0.316949 -0.571885,-0.785482 -0.172255,-0.468532 -0.172255,-1.095539 v -2.094617 q 0,-0.248046 0.0689,-0.39274 0.0689,-0.151584 0.192925,-0.241157 0.151584,-0.124023 0.36518,-0.124023 0.289388,0 0.461643,0.199815 0.0689,0.07579 0.09646,0.144694 0.04823,0.117133 0.05512,0.220486 0.01378,0.09646 0.01378,0.186035 v 2.032605 q 0,0.454752 0.08957,0.75103 0.0689,0.254937 0.241157,0.406521 0.179145,0.144694 0.530544,0.220486 0.35829,0.07579 0.978407,0.07579 0.799261,0 1.51584,-0.227376 0.434082,-0.144694 0.847493,-0.37896 z m -8.688525,1.508951 q -0.358289,0.103352 -0.785481,0.151584 -0.420301,0.05512 -0.833712,0.05512 -0.413411,0 -0.709689,-0.02067 -1.026638,-0.0689 -1.736327,-0.385851 -0.296278,-0.137804 -0.530544,-0.316948 -0.475423,-0.36518 -0.682129,-0.868164 -0.199815,-0.509874 -0.199815,-1.1231 0,-0.702799 0.227376,-1.226453 0.234266,-0.530544 0.723469,-0.875054 0.496094,-0.344509 1.198893,-0.496093 0.702799,-0.172255 1.626084,-0.172255 1.412488,0 2.266871,0.392741 0.923285,0.37896 1.281574,1.178222 0.227376,0.502983 0.227376,1.198892 0,0.613226 -0.206705,1.11621 -0.199816,0.496093 -0.668348,0.854383 -0.468533,0.35829 -1.198893,0.537436 z m -3.389971,-1.150661 q 0.268717,0.110242 0.682128,0.179144 0.413412,0.0689 1.005968,0.0689 1.088649,0 1.694985,-0.254937 0.261827,-0.110243 0.413411,-0.254937 0.310059,-0.289387 0.378961,-0.682128 0.03445,-0.213596 0.03445,-0.427191 0,-0.847493 -0.475423,-1.212673 -0.303168,-0.234266 -0.819932,-0.330729 -0.516764,-0.103353 -1.226453,-0.103353 -1.398708,0 -1.970594,0.37896 -0.275607,0.179145 -0.40652,0.475423 -0.144694,0.316949 -0.144694,0.792372 0,0.213595 0.03445,0.413411 0.0689,0.406521 0.37896,0.695908 0.151584,0.144694 0.420301,0.261828 z M 40.00377,86.193811 v 2.101507 q 0,0.254937 -0.0689,0.399631 -0.124023,0.282497 -0.420301,0.337619 -0.06201,0.01378 -0.117133,0.01378 -0.05512,0 -0.103353,-0.0069 -0.04134,-0.0069 -0.08957,-0.01378 -0.103353,-0.02756 -0.192925,-0.103353 -0.227377,-0.158474 -0.254937,-0.440972 -0.0069,-0.08957 -0.0069,-0.179145 v -2.039495 q 0,-0.427191 -0.07579,-0.74414 -0.06201,-0.261827 -0.234266,-0.427191 -0.227376,-0.227376 -0.74414,-0.303169 -0.303168,-0.04823 -0.709689,-0.04823 -0.37207,0 -0.813042,0.05512 -0.420301,0.04823 -0.792371,0.172254 -0.37207,0.124024 -0.647678,0.323839 -0.227376,0.158474 -0.323838,0.392741 v 2.61827 q 0,0.241157 -0.0689,0.385851 -0.06201,0.144693 -0.179145,0.227376 -0.151584,0.130913 -0.36518,0.130913 -0.213596,0 -0.35829,-0.110243 -0.137803,-0.09646 -0.199815,-0.220486 -0.06201,-0.124023 -0.07579,-0.234266 -0.0069,-0.117133 -0.0069,-0.213596 v -6.063363 q 0,-0.213596 0.02067,-0.310058 0.02756,-0.09646 0.05512,-0.158475 0.0689,-0.151584 0.206705,-0.254937 0.144694,-0.110243 0.35829,-0.110243 0.206706,0 0.351399,0.117134 0.206706,0.165364 0.248047,0.496093 0.01378,0.110243 0.01378,0.220486 v 2.060165 q 0.330728,-0.234266 0.7717,-0.37207 0.613227,-0.192925 1.260904,-0.241156 0.296278,-0.02067 0.544325,-0.02067 0.785481,0 1.336696,0.137804 1.205782,0.261827 1.529621,1.281575 0.151584,0.468532 0.151584,1.14377 z m -8.344013,-3.989417 v 6.077144 q 0,0.234266 -0.0689,0.413411 -0.0689,0.192925 -0.254937,0.282497 -0.130914,0.0689 -0.296278,0.0689 -0.213596,0 -0.35829,-0.09646 -0.241156,-0.151584 -0.268717,-0.468533 -0.0069,-0.08268 -0.0069,-0.186035 v -6.077144 q 0,-0.241156 0.02067,-0.337619 0.02756,-0.09646 0.05512,-0.158474 0.07579,-0.151584 0.206706,-0.248047 0.151584,-0.103353 0.365179,-0.103353 0.206706,0 0.3514,0.117134 0.220486,0.172254 0.248047,0.509873 0.0069,0.103353 0.0069,0.206706 z m -2.756075,0 v 6.077144 q 0,0.234266 -0.0689,0.413411 -0.0689,0.192925 -0.254937,0.282497 -0.130913,0.0689 -0.296278,0.0689 -0.213596,0 -0.35829,-0.09646 -0.241156,-0.151584 -0.268717,-0.468533 -0.0069,-0.08268 -0.0069,-0.186035 v -6.077144 q 0,-0.241156 0.02067,-0.337619 0.02756,-0.09646 0.05512,-0.158474 0.07579,-0.151584 0.206706,-0.248047 0.151584,-0.103353 0.365179,-0.103353 0.206706,0 0.3514,0.117134 0.220486,0.172254 0.248047,0.509873 0.0069,0.103353 0.0069,0.206706 z m -8.288894,4.726667 q -0.04823,0.0689 -0.07579,0.165365 -0.02756,0.08957 -0.02756,0.179145 0,0.08957 0.0069,0.130913 0.0069,0.04134 0.02067,0.07579 0.07579,0.199815 0.413411,0.330729 0.502984,0.192925 1.48139,0.192925 0.571886,0 1.012858,-0.06201 0.434081,-0.0689 0.75103,-0.165365 0.323839,-0.09646 0.530544,-0.206706 0.137804,-0.0689 0.241157,-0.130913 v -0.74414 q -0.544325,-0.05512 -1.192002,-0.117133 -0.640788,-0.06201 -1.371147,-0.06201 -1.040418,0 -1.48828,0.192925 -0.199816,0.08268 -0.303169,0.220486 z m 4.196123,-1.632974 q -0.151584,-0.227376 -0.38585,-0.344509 -0.248047,-0.124023 -0.592556,-0.165365 -0.344509,-0.04823 -0.75103,-0.04823 -0.640787,0 -0.985297,0.02756 -0.564995,0.04134 -0.881943,0.08957 -0.509874,0.08268 -0.902615,0.227376 l -0.05512,0.02067 h -0.06201 q -0.130913,0 -0.241156,-0.05512 -0.103353,-0.06201 -0.179145,-0.151585 -0.151584,-0.502983 -0.151584,-1.109319 0,0.124023 0.151584,0.199815 0.06201,0.03445 0.130913,0.05512 0.07579,-0.04134 0.186035,-0.0689 0.117133,-0.03445 0.124024,-0.04134 0.220486,-0.0689 0.606336,-0.137803 0.943955,-0.165365 2.273761,-0.165365 0.868164,0 1.4745,0.227376 0.351399,0.124024 0.668348,0.33762 0.627007,0.427191 0.875054,1.329805 0.117133,0.440972 0.117133,1.033528 v 1.743217 q 0,0.08268 -0.01378,0.186035 -0.0069,0.103353 -0.06201,0.213596 -0.0689,0.137804 -0.186035,0.220486 -0.151584,0.124023 -0.37207,0.124023 -0.165365,0 -0.296278,-0.07579 -0.08268,-0.04823 -0.144694,-0.124023 -0.117133,-0.137804 -0.158475,-0.36518 -0.530544,0.35829 -1.322915,0.523654 -0.509874,0.110243 -1.157551,0.110243 -2.22553,0 -2.96967,-0.930175 -0.289388,-0.36518 -0.289388,-0.861273 0,-0.551215 0.261827,-0.930175 0.261827,-0.385851 0.695909,-0.599446 0.440971,-0.220486 0.985296,-0.303169 0.544325,-0.08268 1.150661,-0.08268 0.916395,0 1.756997,0.124024 0.461643,0.0689 0.826823,0.172254 -0.04134,-0.241156 -0.124024,-0.406521 z m -6.876405,-3.093693 v 6.077144 q 0,0.234266 -0.0689,0.413411 -0.0689,0.192925 -0.254937,0.282497 -0.130914,0.0689 -0.296278,0.0689 -0.213596,0 -0.35829,-0.09646 -0.241156,-0.151584 -0.268717,-0.468533 -0.0069,-0.08268 -0.0069,-0.186035 v -6.077144 q 0,-0.241156 0.02067,-0.337619 0.02756,-0.09646 0.05512,-0.158474 0.07579,-0.151584 0.206705,-0.248047 0.151584,-0.103353 0.36518,-0.103353 0.206706,0 0.3514,0.117134 0.220486,0.172254 0.248046,0.509873 0.0069,0.103353 0.0069,0.206706 z m -2.756074,0 v 6.077144 q 0,0.234266 -0.0689,0.413411 -0.0689,0.192925 -0.254937,0.282497 -0.130913,0.0689 -0.296278,0.0689 -0.213595,0 -0.358289,-0.09646 -0.241157,-0.151584 -0.268718,-0.468533 -0.0069,-0.08268 -0.0069,-0.186035 v -6.077144 q 0,-0.241156 0.02067,-0.337619 0.02756,-0.09646 0.05512,-0.158474 0.07579,-0.151584 0.206706,-0.248047 0.151584,-0.103353 0.36518,-0.103353 0.206705,0 0.351399,0.117134 0.220486,0.172254 0.248047,0.509873 0.0069,0.103353 0.0069,0.206706 z m -2.866317,2.23242 v 3.879175 q 0,0.248046 -0.0689,0.38585 -0.06201,0.165364 -0.206706,0.254937 -0.144693,0.08957 -0.351399,0.08957 -0.268717,0 -0.434082,-0.151584 -0.08957,-0.0689 -0.130913,-0.172255 -0.06201,-0.151584 -0.06201,-0.37896 v -3.858504 q 0,-0.206705 0.0689,-0.36518 0.04823,-0.117133 0.124023,-0.186035 0.08268,-0.07579 0.186035,-0.117133 0.103353,-0.04823 0.261827,-0.04823 0.158475,0 0.268718,0.05512 0.206705,0.08268 0.275607,0.261828 0.0689,0.158474 0.0689,0.351399 z m -0.633897,-1.171332 q -0.289388,0 -0.502984,-0.192925 -0.206705,-0.199815 -0.206705,-0.509873 0,-0.192926 0.08957,-0.35829 0.117133,-0.213596 0.3514,-0.310058 0.130913,-0.05512 0.275607,-0.05512 0.303168,0 0.516764,0.206706 0.213596,0.206705 0.213596,0.516764 0,0.227376 -0.124024,0.39963 -0.04134,0.0689 -0.103352,0.117133 -0.213596,0.186035 -0.509874,0.186035 z m -4.2099037,0.606337 h 1.9361422 q 0.2480466,0 0.4065209,0.151584 0.068902,0.0689 0.110243,0.165364 0.041341,0.09646 0.041341,0.199816 0,0.103353 -0.041341,0.199815 -0.041341,0.09646 -0.1240234,0.172255 -0.075792,0.07579 -0.1791448,0.110243 -0.1033528,0.03445 -0.2135957,0.03445 H 7.4683143 v 2.094616 q 0,0.36518 0.082682,0.564995 0.082682,0.192926 0.1929252,0.282498 0.110243,0.08957 0.2549369,0.117133 0.1929252,0.04134 0.4409719,0.04134 0.2480466,0 0.5029835,-0.09646 0.296278,-0.110243 0.6959088,-0.316949 0.1584742,-0.08268 0.3169485,-0.08268 0.1446939,0 0.2687179,0.06201 0.165364,0.08957 0.234266,0.268718 0.04134,0.09646 0.04134,0.192925 0,0.206705 -0.124023,0.35829 -0.08268,0.103352 -0.213596,0.179144 Q 9.8592087,88.73629 9.6800639,88.812082 9.3768957,88.942995 9.1633,89.005007 8.7912299,89.11525 8.3433679,89.11525 q -0.964626,0 -1.5158409,-0.461642 Q 6.531249,88.405561 6.3658846,88.01282 6.2143005,87.64075 6.2143005,87.110206 V 84.905347 H 5.9593636 q -0.1102429,0 -0.2135957,-0.03445 -0.1033528,-0.04134 -0.1791448,-0.117133 -0.1515841,-0.165365 -0.1515841,-0.36518 0,-0.199816 0.1446939,-0.35829 0.151584,-0.158474 0.3996307,-0.158474 h 0.2549369 v -1.364257 q 0,-0.323839 0.1584743,-0.496093 0.041341,-0.04823 0.089572,-0.07579 0.1791448,-0.117134 0.3927406,-0.117134 0.2204859,0 0.3927405,0.124024 0.220486,0.165364 0.220486,0.564995 z"
                      style={{
                        fontStyle: "normal",
                        fontVariant: "normal",
                        fontWeight: "normal",
                        fontStretch: "normal",
                        fontSize: "14.1111px",
                        fontFamily: "Gruppo",
                      }}
                      id="path45"
                    />
                  </animated.g>
                  <text
                    xmlSpace="preserve"
                    id="text16"
                    style={{
                      fontStyle: "normal",
                      fontWeight: "normal",
                      fontSize: "10.58329999999999949px",
                      lineHeight: 1.25,
                      fontFamily: "sans-serif",
                      whiteSpace: "pre",
                      shapeInside: "url(#rect18)",
                      fill: "#000000",
                      fillOpacity: 1,
                      stroke: "none",
                    }}
                  />
                </g>
              </animated.svg>
              <div>candle co.</div>
            </animated.div>
          </Navbar.Brand>
          <Navbar.Toggle
            aria-controls="basic-navbar-nav"
            as="button"
            children={hamburger}
          />
          <Navbar.Collapse id="basic-navbar-nav">
            <div className="navbar-split justify-content-end">
              <Nav className="justify-content-end" activeKey="/home">
                <Nav.Item>
                  <AnimatedLink href="/" style={fontAnimation}>
                    Home
                  </AnimatedLink>
                </Nav.Item>
                <Nav.Item>
                  <AnimatedLink href="/catalog" style={fontAnimation}>
                    Shop
                  </AnimatedLink>
                </Nav.Item>
                <Nav.Item>
                  <AnimatedLink href="/about" style={fontAnimation}>
                    About
                  </AnimatedLink>
                </Nav.Item>
                <Button variant="outline-primary" className="snipcart-checkout">
                  <animated.div style={fontAnimation}>
                    <i className="fas fa-shopping-cart"></i>
                  </animated.div>
                </Button>
              </Nav>
            </div>
          </Navbar.Collapse>
        </div>
      </Navbar>
    )
  } else {
    return (
      <Navbar
        className="navcolor"
        expand="md"
        collapseOnSelect="true"
        ref={ref}
      >
        <animated.div className="navBg" />
        <div
          style={{
            maxWidth: "1200px",
            margin: `0 auto`,
            width: "100%",
            height: "auto",
            display: "flex",
            zIndex: "9",
          }}
          className="header"
        >
          <Navbar.Brand href="/">
            <animated.div className="d-inline-block align-top">
              <animated.svg
                xmlnsDc="http://purl.org/dc/elements/1.1/"
                xmlnsCc="http://creativecommons.org/ns#"
                xmlnsRdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
                xmlnsSvg="http://www.w3.org/2000/svg"
                xmlns="http://www.w3.org/2000/svg"
                width="243.9323"
                height="29.270834"
                viewBox="0 0 64.540419 7.7445751"
                version="1.1"
                id="svg8"
                style={{ width: "150px", height: "18.75px" }}
              >
                <defs id="defs2">
                  <rect
                    id="rect18"
                    height="85.422615"
                    width="30.238094"
                    y="77.10714"
                    x="134.55952"
                  />
                  <rect
                    id="rect12"
                    height="50.648808"
                    width="179.16072"
                    y="75.595238"
                    x="5.2916665"
                  />
                </defs>
                <g id="layer1" transform="translate(-0.77715312,-1.4287231)">
                  <animated.g
                    style={{
                      fontStyle: "normal",
                      fontVariant: "normal",
                      fontWeight: "normal",
                      fontStretch: "normal",
                      fontSize: "14.1111px",
                      lineHeight: 1.25,
                      fontFamily: "Gruppo",
                      whiteSpace: "pre",
                      shapeInside: "url(#rect12)",
                      fillOpacity: 1,
                      stroke: "none",
                    }}
                    id="text10"
                    transform="translate(-4.9892857,-79.941963)"
                    aria-label="tillallhours"
                  >
                    <path
                      d="m 69.29395,87.606299 q 0.110243,-0.08957 0.110243,-0.227376 0,-0.137803 -0.06201,-0.206705 -0.02067,-0.02756 -0.06201,-0.04823 -0.192925,-0.130913 -0.537435,-0.192925 -0.39963,-0.07579 -0.923285,-0.09646 -0.523654,-0.02067 -0.902614,-0.02756 -0.37207,-0.01378 -0.558105,-0.02067 -0.37896,-0.01378 -0.74414,-0.04134 -0.578776,-0.04134 -1.067979,-0.179145 -0.482313,-0.137803 -0.799261,-0.413411 -0.35829,-0.310058 -0.35829,-0.826822 0,-0.516764 0.344509,-0.854383 0.310059,-0.316949 0.792372,-0.489203 0.475422,-0.206706 1.040418,-0.275608 0.571885,-0.07579 1.088649,-0.07579 1.543402,0 2.60449,0.36518 0.385851,0.130914 0.73725,0.323839 0.179145,0.08957 0.254937,0.248047 0.04823,0.103352 0.06201,0.234266 v 0.02067 q 0,0.213596 -0.130914,0.378961 -0.0689,0.08268 -0.172255,0.144694 -0.103352,0.05512 -0.227376,0.05512 -0.137803,0 -0.234266,-0.06201 -0.544325,-0.268717 -1.240233,-0.434081 -0.689019,-0.165365 -1.570963,-0.165365 -0.447862,0 -0.861273,0.04823 -0.813042,0.08957 -1.1231,0.372071 -0.110243,0.110242 -0.110243,0.275607 0,0.0689 0.02067,0.124023 0.02756,0.04823 0.08957,0.08957 0.199815,0.117133 0.551215,0.179145 0.39274,0.0689 0.902614,0.08268 l 1.10243,0.03445 q 0.571885,0.02067 1.1231,0.06201 0.585666,0.04823 1.047308,0.186035 0.509874,0.151584 0.826822,0.447862 0.3514,0.316949 0.3514,0.833713 -0.0069,0.475423 -0.3514,0.806152 -0.316948,0.296278 -0.806151,0.468532 -0.496094,0.199816 -1.10243,0.282498 -0.592556,0.08268 -1.226453,0.08268 -0.37896,0 -0.819932,-0.02067 -1.019748,-0.03445 -1.784558,-0.296278 -0.454752,-0.158475 -0.792372,-0.427192 -0.165364,-0.124023 -0.213595,-0.303168 -0.02067,-0.07579 -0.02067,-0.151584 0,-0.248047 0.172255,-0.420302 0.144694,-0.151584 0.358289,-0.151584 0.172255,0 0.296278,0.103353 0.682129,0.461643 1.915472,0.537435 0.399631,0.02067 0.73036,0.02067 0.585665,0 1.033528,-0.04134 0.454752,-0.04134 0.76481,-0.130913 0.316949,-0.09646 0.482313,-0.227377 z m -9.983881,-3.396861 q 0.248047,-0.192925 0.537434,-0.310058 0.37207,-0.165365 0.757921,-0.213596 0.38585,-0.05512 0.675238,-0.05512 0.661458,0 1.11621,0.124024 0.227376,0.05512 0.268717,0.07579 0.04134,0.02067 0.07579,0.04134 0.03445,0.02067 0.0689,0.04823 0.124024,0.103353 0.172255,0.275608 0.02067,0.07579 0.02067,0.158474 0,0.206705 -0.130913,0.37896 -0.165365,0.213596 -0.454752,0.213596 h -0.06201 l -0.117133,-0.02756 q -0.248047,-0.0689 -0.468533,-0.103353 -0.220486,-0.04134 -0.537434,-0.04134 -0.316949,0 -0.647678,0.06201 -0.640787,0.117133 -0.999077,0.461642 -0.151584,0.158474 -0.241156,0.35829 v 2.666502 q 0,0.199815 -0.0689,0.37896 -0.06201,0.179145 -0.248047,0.268717 -0.130913,0.07579 -0.323838,0.07579 -0.186035,0 -0.330729,-0.103353 -0.248047,-0.151584 -0.275608,-0.461642 -0.0069,-0.08268 -0.0069,-0.179145 V 84.45059 q 0,-0.206705 0.08957,-0.37207 0.151584,-0.310058 0.571885,-0.310058 0.144694,0 0.261827,0.05512 0.227376,0.103353 0.296278,0.385851 z m -3.968745,3.190156 v -2.866317 q 0,-0.08957 0.0069,-0.186035 0.01378,-0.103353 0.04134,-0.172255 0.02756,-0.0689 0.05512,-0.110243 0.04823,-0.09646 0.130914,-0.165364 0.151584,-0.130914 0.37207,-0.130914 0.310058,0 0.489203,0.227376 0.130913,0.151584 0.151584,0.36518 0.0069,0.08957 0.0069,0.179145 v 3.762041 q 0,0.440972 -0.261827,0.627007 -0.144694,0.117133 -0.3514,0.117133 -0.268717,0 -0.440971,-0.151584 -0.144694,-0.137804 -0.186035,-0.406521 -0.523655,0.344509 -1.281575,0.516764 -0.475423,0.110243 -1.095539,0.110243 -0.785482,0 -1.364257,-0.158474 -0.585666,-0.137804 -0.985297,-0.454752 -0.39274,-0.316949 -0.571885,-0.785482 -0.172255,-0.468532 -0.172255,-1.095539 v -2.094617 q 0,-0.248046 0.0689,-0.39274 0.0689,-0.151584 0.192925,-0.241157 0.151584,-0.124023 0.36518,-0.124023 0.289388,0 0.461643,0.199815 0.0689,0.07579 0.09646,0.144694 0.04823,0.117133 0.05512,0.220486 0.01378,0.09646 0.01378,0.186035 v 2.032605 q 0,0.454752 0.08957,0.75103 0.0689,0.254937 0.241157,0.406521 0.179145,0.144694 0.530544,0.220486 0.35829,0.07579 0.978407,0.07579 0.799261,0 1.51584,-0.227376 0.434082,-0.144694 0.847493,-0.37896 z m -8.688525,1.508951 q -0.358289,0.103352 -0.785481,0.151584 -0.420301,0.05512 -0.833712,0.05512 -0.413411,0 -0.709689,-0.02067 -1.026638,-0.0689 -1.736327,-0.385851 -0.296278,-0.137804 -0.530544,-0.316948 -0.475423,-0.36518 -0.682129,-0.868164 -0.199815,-0.509874 -0.199815,-1.1231 0,-0.702799 0.227376,-1.226453 0.234266,-0.530544 0.723469,-0.875054 0.496094,-0.344509 1.198893,-0.496093 0.702799,-0.172255 1.626084,-0.172255 1.412488,0 2.266871,0.392741 0.923285,0.37896 1.281574,1.178222 0.227376,0.502983 0.227376,1.198892 0,0.613226 -0.206705,1.11621 -0.199816,0.496093 -0.668348,0.854383 -0.468533,0.35829 -1.198893,0.537436 z m -3.389971,-1.150661 q 0.268717,0.110242 0.682128,0.179144 0.413412,0.0689 1.005968,0.0689 1.088649,0 1.694985,-0.254937 0.261827,-0.110243 0.413411,-0.254937 0.310059,-0.289387 0.378961,-0.682128 0.03445,-0.213596 0.03445,-0.427191 0,-0.847493 -0.475423,-1.212673 -0.303168,-0.234266 -0.819932,-0.330729 -0.516764,-0.103353 -1.226453,-0.103353 -1.398708,0 -1.970594,0.37896 -0.275607,0.179145 -0.40652,0.475423 -0.144694,0.316949 -0.144694,0.792372 0,0.213595 0.03445,0.413411 0.0689,0.406521 0.37896,0.695908 0.151584,0.144694 0.420301,0.261828 z M 40.00377,86.193811 v 2.101507 q 0,0.254937 -0.0689,0.399631 -0.124023,0.282497 -0.420301,0.337619 -0.06201,0.01378 -0.117133,0.01378 -0.05512,0 -0.103353,-0.0069 -0.04134,-0.0069 -0.08957,-0.01378 -0.103353,-0.02756 -0.192925,-0.103353 -0.227377,-0.158474 -0.254937,-0.440972 -0.0069,-0.08957 -0.0069,-0.179145 v -2.039495 q 0,-0.427191 -0.07579,-0.74414 -0.06201,-0.261827 -0.234266,-0.427191 -0.227376,-0.227376 -0.74414,-0.303169 -0.303168,-0.04823 -0.709689,-0.04823 -0.37207,0 -0.813042,0.05512 -0.420301,0.04823 -0.792371,0.172254 -0.37207,0.124024 -0.647678,0.323839 -0.227376,0.158474 -0.323838,0.392741 v 2.61827 q 0,0.241157 -0.0689,0.385851 -0.06201,0.144693 -0.179145,0.227376 -0.151584,0.130913 -0.36518,0.130913 -0.213596,0 -0.35829,-0.110243 -0.137803,-0.09646 -0.199815,-0.220486 -0.06201,-0.124023 -0.07579,-0.234266 -0.0069,-0.117133 -0.0069,-0.213596 v -6.063363 q 0,-0.213596 0.02067,-0.310058 0.02756,-0.09646 0.05512,-0.158475 0.0689,-0.151584 0.206705,-0.254937 0.144694,-0.110243 0.35829,-0.110243 0.206706,0 0.351399,0.117134 0.206706,0.165364 0.248047,0.496093 0.01378,0.110243 0.01378,0.220486 v 2.060165 q 0.330728,-0.234266 0.7717,-0.37207 0.613227,-0.192925 1.260904,-0.241156 0.296278,-0.02067 0.544325,-0.02067 0.785481,0 1.336696,0.137804 1.205782,0.261827 1.529621,1.281575 0.151584,0.468532 0.151584,1.14377 z m -8.344013,-3.989417 v 6.077144 q 0,0.234266 -0.0689,0.413411 -0.0689,0.192925 -0.254937,0.282497 -0.130914,0.0689 -0.296278,0.0689 -0.213596,0 -0.35829,-0.09646 -0.241156,-0.151584 -0.268717,-0.468533 -0.0069,-0.08268 -0.0069,-0.186035 v -6.077144 q 0,-0.241156 0.02067,-0.337619 0.02756,-0.09646 0.05512,-0.158474 0.07579,-0.151584 0.206706,-0.248047 0.151584,-0.103353 0.365179,-0.103353 0.206706,0 0.3514,0.117134 0.220486,0.172254 0.248047,0.509873 0.0069,0.103353 0.0069,0.206706 z m -2.756075,0 v 6.077144 q 0,0.234266 -0.0689,0.413411 -0.0689,0.192925 -0.254937,0.282497 -0.130913,0.0689 -0.296278,0.0689 -0.213596,0 -0.35829,-0.09646 -0.241156,-0.151584 -0.268717,-0.468533 -0.0069,-0.08268 -0.0069,-0.186035 v -6.077144 q 0,-0.241156 0.02067,-0.337619 0.02756,-0.09646 0.05512,-0.158474 0.07579,-0.151584 0.206706,-0.248047 0.151584,-0.103353 0.365179,-0.103353 0.206706,0 0.3514,0.117134 0.220486,0.172254 0.248047,0.509873 0.0069,0.103353 0.0069,0.206706 z m -8.288894,4.726667 q -0.04823,0.0689 -0.07579,0.165365 -0.02756,0.08957 -0.02756,0.179145 0,0.08957 0.0069,0.130913 0.0069,0.04134 0.02067,0.07579 0.07579,0.199815 0.413411,0.330729 0.502984,0.192925 1.48139,0.192925 0.571886,0 1.012858,-0.06201 0.434081,-0.0689 0.75103,-0.165365 0.323839,-0.09646 0.530544,-0.206706 0.137804,-0.0689 0.241157,-0.130913 v -0.74414 q -0.544325,-0.05512 -1.192002,-0.117133 -0.640788,-0.06201 -1.371147,-0.06201 -1.040418,0 -1.48828,0.192925 -0.199816,0.08268 -0.303169,0.220486 z m 4.196123,-1.632974 q -0.151584,-0.227376 -0.38585,-0.344509 -0.248047,-0.124023 -0.592556,-0.165365 -0.344509,-0.04823 -0.75103,-0.04823 -0.640787,0 -0.985297,0.02756 -0.564995,0.04134 -0.881943,0.08957 -0.509874,0.08268 -0.902615,0.227376 l -0.05512,0.02067 h -0.06201 q -0.130913,0 -0.241156,-0.05512 -0.103353,-0.06201 -0.179145,-0.151585 -0.151584,-0.502983 -0.151584,-1.109319 0,0.124023 0.151584,0.199815 0.06201,0.03445 0.130913,0.05512 0.07579,-0.04134 0.186035,-0.0689 0.117133,-0.03445 0.124024,-0.04134 0.220486,-0.0689 0.606336,-0.137803 0.943955,-0.165365 2.273761,-0.165365 0.868164,0 1.4745,0.227376 0.351399,0.124024 0.668348,0.33762 0.627007,0.427191 0.875054,1.329805 0.117133,0.440972 0.117133,1.033528 v 1.743217 q 0,0.08268 -0.01378,0.186035 -0.0069,0.103353 -0.06201,0.213596 -0.0689,0.137804 -0.186035,0.220486 -0.151584,0.124023 -0.37207,0.124023 -0.165365,0 -0.296278,-0.07579 -0.08268,-0.04823 -0.144694,-0.124023 -0.117133,-0.137804 -0.158475,-0.36518 -0.530544,0.35829 -1.322915,0.523654 -0.509874,0.110243 -1.157551,0.110243 -2.22553,0 -2.96967,-0.930175 -0.289388,-0.36518 -0.289388,-0.861273 0,-0.551215 0.261827,-0.930175 0.261827,-0.385851 0.695909,-0.599446 0.440971,-0.220486 0.985296,-0.303169 0.544325,-0.08268 1.150661,-0.08268 0.916395,0 1.756997,0.124024 0.461643,0.0689 0.826823,0.172254 -0.04134,-0.241156 -0.124024,-0.406521 z m -6.876405,-3.093693 v 6.077144 q 0,0.234266 -0.0689,0.413411 -0.0689,0.192925 -0.254937,0.282497 -0.130914,0.0689 -0.296278,0.0689 -0.213596,0 -0.35829,-0.09646 -0.241156,-0.151584 -0.268717,-0.468533 -0.0069,-0.08268 -0.0069,-0.186035 v -6.077144 q 0,-0.241156 0.02067,-0.337619 0.02756,-0.09646 0.05512,-0.158474 0.07579,-0.151584 0.206705,-0.248047 0.151584,-0.103353 0.36518,-0.103353 0.206706,0 0.3514,0.117134 0.220486,0.172254 0.248046,0.509873 0.0069,0.103353 0.0069,0.206706 z m -2.756074,0 v 6.077144 q 0,0.234266 -0.0689,0.413411 -0.0689,0.192925 -0.254937,0.282497 -0.130913,0.0689 -0.296278,0.0689 -0.213595,0 -0.358289,-0.09646 -0.241157,-0.151584 -0.268718,-0.468533 -0.0069,-0.08268 -0.0069,-0.186035 v -6.077144 q 0,-0.241156 0.02067,-0.337619 0.02756,-0.09646 0.05512,-0.158474 0.07579,-0.151584 0.206706,-0.248047 0.151584,-0.103353 0.36518,-0.103353 0.206705,0 0.351399,0.117134 0.220486,0.172254 0.248047,0.509873 0.0069,0.103353 0.0069,0.206706 z m -2.866317,2.23242 v 3.879175 q 0,0.248046 -0.0689,0.38585 -0.06201,0.165364 -0.206706,0.254937 -0.144693,0.08957 -0.351399,0.08957 -0.268717,0 -0.434082,-0.151584 -0.08957,-0.0689 -0.130913,-0.172255 -0.06201,-0.151584 -0.06201,-0.37896 v -3.858504 q 0,-0.206705 0.0689,-0.36518 0.04823,-0.117133 0.124023,-0.186035 0.08268,-0.07579 0.186035,-0.117133 0.103353,-0.04823 0.261827,-0.04823 0.158475,0 0.268718,0.05512 0.206705,0.08268 0.275607,0.261828 0.0689,0.158474 0.0689,0.351399 z m -0.633897,-1.171332 q -0.289388,0 -0.502984,-0.192925 -0.206705,-0.199815 -0.206705,-0.509873 0,-0.192926 0.08957,-0.35829 0.117133,-0.213596 0.3514,-0.310058 0.130913,-0.05512 0.275607,-0.05512 0.303168,0 0.516764,0.206706 0.213596,0.206705 0.213596,0.516764 0,0.227376 -0.124024,0.39963 -0.04134,0.0689 -0.103352,0.117133 -0.213596,0.186035 -0.509874,0.186035 z m -4.2099037,0.606337 h 1.9361422 q 0.2480466,0 0.4065209,0.151584 0.068902,0.0689 0.110243,0.165364 0.041341,0.09646 0.041341,0.199816 0,0.103353 -0.041341,0.199815 -0.041341,0.09646 -0.1240234,0.172255 -0.075792,0.07579 -0.1791448,0.110243 -0.1033528,0.03445 -0.2135957,0.03445 H 7.4683143 v 2.094616 q 0,0.36518 0.082682,0.564995 0.082682,0.192926 0.1929252,0.282498 0.110243,0.08957 0.2549369,0.117133 0.1929252,0.04134 0.4409719,0.04134 0.2480466,0 0.5029835,-0.09646 0.296278,-0.110243 0.6959088,-0.316949 0.1584742,-0.08268 0.3169485,-0.08268 0.1446939,0 0.2687179,0.06201 0.165364,0.08957 0.234266,0.268718 0.04134,0.09646 0.04134,0.192925 0,0.206705 -0.124023,0.35829 -0.08268,0.103352 -0.213596,0.179144 Q 9.8592087,88.73629 9.6800639,88.812082 9.3768957,88.942995 9.1633,89.005007 8.7912299,89.11525 8.3433679,89.11525 q -0.964626,0 -1.5158409,-0.461642 Q 6.531249,88.405561 6.3658846,88.01282 6.2143005,87.64075 6.2143005,87.110206 V 84.905347 H 5.9593636 q -0.1102429,0 -0.2135957,-0.03445 -0.1033528,-0.04134 -0.1791448,-0.117133 -0.1515841,-0.165365 -0.1515841,-0.36518 0,-0.199816 0.1446939,-0.35829 0.151584,-0.158474 0.3996307,-0.158474 h 0.2549369 v -1.364257 q 0,-0.323839 0.1584743,-0.496093 0.041341,-0.04823 0.089572,-0.07579 0.1791448,-0.117134 0.3927406,-0.117134 0.2204859,0 0.3927405,0.124024 0.220486,0.165364 0.220486,0.564995 z"
                      style={{
                        fontStyle: "normal",
                        fontVariant: "normal",
                        fontWeight: "normal",
                        fontStretch: "normal",
                        fontSize: "14.1111px",
                        fontFamily: "Gruppo",
                      }}
                      id="path45"
                    />
                  </animated.g>
                  <text
                    xmlSpace="preserve"
                    id="text16"
                    style={{
                      fontStyle: "normal",
                      fontWeight: "normal",
                      fontSize: "10.58329999999999949px",
                      lineHeight: 1.25,
                      fontFamily: "sans-serif",
                      whiteSpace: "pre",
                      shapeInside: "url(#rect18)",
                      fill: "#000000",
                      fillOpacity: 1,
                      stroke: "none",
                    }}
                  />
                </g>
              </animated.svg>
              <div>candle co.</div>
            </animated.div>
          </Navbar.Brand>
          <Navbar.Toggle
            aria-controls="basic-navbar-nav"
            as="button"
            children={hamburger}
          />
          <Navbar.Collapse id="basic-navbar-nav">
            <div className="navbar-split justify-content-end">
              <Nav className="justify-content-end" activeKey="/home">
                <Nav.Item>
                  <AnimatedLink href="/" style={fontAnimation}>
                    Home
                  </AnimatedLink>
                </Nav.Item>
                <Nav.Item>
                  <AnimatedLink href="/catalog" style={fontAnimation}>
                    Shop
                  </AnimatedLink>
                </Nav.Item>
                <Nav.Item>
                  <AnimatedLink href="/about" style={fontAnimation}>
                    About
                  </AnimatedLink>
                </Nav.Item>
                <Button variant="outline-primary" className="snipcart-checkout">
                  <animated.div style={fontAnimation}>
                    <i className="fas fa-shopping-cart"></i>
                  </animated.div>
                </Button>
              </Nav>
            </div>
          </Navbar.Collapse>
        </div>
      </Navbar>
    )
  }
}

Header.propTypes = {
  siteTitle: PropTypes.string,
}

Header.defaultProps = {
  siteTitle: ``,
}

const hamburger = (
  <div htmlFor="burger__input" className="hamburger">
    <span className="burger__lines">
      <span className="burger__line"></span>
      <span className="burger__line"></span>
      <span className="burger__line"></span>
    </span>
  </div>
)

export default Header;
